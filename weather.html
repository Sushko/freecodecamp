<!-- http://erikflowers.github.io/weather-icons/ -->
<!DOCTYPE html>
<html>
<head>

  <!-- Include google font -->
  <link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Delius+Swash+Caps" rel="stylesheet">
	<!-- Include bootstrap -->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>

  <!-- Include Font Awesome -->
  <link rel="stylesheet" href="css/font-awesome.css"/>
  <link rel="stylesheet" href="css/weather-icons.css"/>
  

  <!-- Include JQuery -->
  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/jquery-ui.min.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script> -->
  <!-- Include bootstrap JavaScript -->
  <script src="js/bootstrap-3.3.7.min.js"></script>
  <script type="text/javascript">

  $(document).ready(function(){

    $("#quote_box").fadeIn(600);
    $.get("http://ipinfo.io", function(response) {
      $.getJSON("https://fcc-weather-api.glitch.me/api/current?lat="+response.loc.substring(0,response.loc.indexOf(","))+"&lon="+response.loc.substring(response.loc.indexOf(",")+1), function(json) {
        var sunrise = new Date(json.sys.sunrise*1000);
        var sunset = new Date(json.sys.sunset*1000);
        $("#img").html("<img class='enlarge' src="+json["weather"][0].icon+">");
        $("#temp").html(json.main.temp + ' &#x2103');
        $("#pres").html(json.main.pressure + ' hPa');
        $("#humi").html(json.main.humidity + ' %');
        $("#fcst").html(json["weather"][0].description);
        $("#clds").html(json.clouds.all + ' %');
        $("#wind").html(json.wind.speed +' m/s, dir = '+json.wind.deg);
        $("#visb").html(json.visibility + ' meters');
        $("#snrs").html(sunrise.toString().substring(0,24));
        $("#snst").html(sunset.toString().substring(0,24));
        $("#city").html(json.name);
        console.log(JSON.stringify(json));
      });
    }, "jsonp");

    // if (navigator.geolocation) {
    //   navigator.geolocation.getCurrentPosition(function(position) {
    //     $.getJSON("https://fcc-weather-api.glitch.me/api/current?lat="+position.coords.latitude+"&lon="+position.coords.longitude, function(json) {
    //       $("#data").html(JSON.stringify(json));
    //     });
    //   });
    // }
    // else {
    //   $("#data").html("Location cannot be specified");
    // }
  });

      // {
      //   "coord":    {
      //                 "lon":30.52,
      //                 "lat":50.45
      //               },
      //   "weather":  [
      //               {
      //                 "id":600,
      //                 "main":"Snow",
      //                 "description":"light snow"
      //               },
      //               { 
      //                 "id":701,
      //                 "main":"Mist",
      //                 "description":"mist",
      //                 "icon":"50d"
      //               }
      //               ],
      //   "base":       "stations",
      //   "main":     {
      //                 "temp":0.32,
      //                 "pressure":1013,
      //                 "humidity":100,
      //                 "temp_min":0,
      //                 "temp_max":1
      //               },
      //   "visibility": 3700,
      //   "wind":       {"speed":2,"deg":250},
      //   "clouds":     {"all":90},
      //   "dt":         1512633600,
      //   "sys":      {
      //                 "type":1,
      //                 "id":7358,
      //                 "message":0.1657,
      //                 "country":"UA",
      //                 "sunrise":1512625470,
      //                 "sunset":1512654867
      //               },
      //   "id":         696050,
      //   "name":       "Pushcha-Voditsa",
      //   "cod":        200
      // }
      // Parameters:

      // coord
      // coord.lon City geo location, longitude
      // coord.lat City geo location, latitude
      // weather (more info Weather condition codes)
      // weather.id Weather condition id
      // weather.main Group of weather parameters (Rain, Snow, Extreme etc.)
      // weather.description Weather condition within the group
      // weather.icon Weather icon id
      // base Internal parameter
      // main
      // main.temp Temperature. Unit Default: Kelvin, Metric: Celsius, Imperial: Fahrenheit.
      // main.pressure Atmospheric pressure (on the sea level, if there is no sea_level or grnd_level data), hPa
      // main.humidity Humidity, %
      // main.temp_min Minimum temperature at the moment. This is deviation from current temp that is possible for large cities and megalopolises geographically expanded (use these parameter optionally). Unit Default: Kelvin, Metric: Celsius, Imperial: Fahrenheit.
      // main.temp_max Maximum temperature at the moment. This is deviation from current temp that is possible for large cities and megalopolises geographically expanded (use these parameter optionally). Unit Default: Kelvin, Metric: Celsius, Imperial: Fahrenheit.
      // main.sea_level Atmospheric pressure on the sea level, hPa
      // main.grnd_level Atmospheric pressure on the ground level, hPa
      // wind
      // wind.speed Wind speed. Unit Default: meter/sec, Metric: meter/sec, Imperial: miles/hour.
      // wind.deg Wind direction, degrees (meteorological)
      // clouds
      // clouds.all Cloudiness, %
      // rain
      // rain.3h Rain volume for the last 3 hours
      // snow
      // snow.3h Snow volume for the last 3 hours
      // dt Time of data calculation, unix, UTC
      // sys
      // sys.type Internal parameter
      // sys.id Internal parameter
      // sys.message Internal parameter
      // sys.country Country code (GB, JP etc.)
      // sys.sunrise Sunrise time, unix, UTC
      // sys.sunset Sunset time, unix, UTC
      // id City ID
      // name City name
      // cod Internal parameter

  $( function() {
    $( "#quote_box" ).draggable();
  });

  </script>
  <style>
    body {
      position: relative;
      /*max-width: 1000px;*/
      /*padding-top: 60px;*/
      background-image: url('http://eskipaper.com/images/background-patterns-11.jpg');opacity:0.9;
    }

    #panel {
      padding: 100px 0 0 0;
    }

    .bodyContent{
      border-style: solid;
      border-color: #636c72;
      border-radius: 2vmin;
      padding-top: 10px;
      padding-bottom: 10px;
      padding-left: 10px;
      padding-right: 10px;
      background-color: #f0e6d2;
      display: none;
    }

    .quote_box {
      display:none;
    }
    div {
      font-family: 'Karla';
      font-size: 20px;
    }

    .enlarge {
      transform: scale(2,2);
      transform-origin: 0 0;
      padding-top: 30px;
    }

  </style>
</head>
<body data-spy="scroll" data-target="#navbar" >
  <div class="container-fluid">

        <!-- About -->
    <section id="panel">
      <div class="container">
        <div id = "quote_box" class="bodyContent">
          <div class="row">
            <div id="img" class="col-xs-2 text-center">
            </div>
            <div class="col-xs-10">
              <div class="row">
                <div class="col-xs-8">Temperature:</div>
                <div id="temp" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Preasure:</div>
                <div id="pres" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Humidity:</div>
                <div id="humi" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Forecast:</div>
                <div id="fcst" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Clouds:</div>
                <div id="clds" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Wind:</div>
                <div id="wind" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Visibility:</div>
                <div id="visb" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Sunrise:</div>
                <div id="snrs" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">Sunset:</div>
                <div id="snst" class="col-xs-4"></div>
              </div>
              <div class="row">
                <div class="col-xs-8">City:</div>
                <div id="city" class="col-xs-4"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </div>
</body>
</html>
